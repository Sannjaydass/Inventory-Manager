<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Manager</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <style>
        body {
            margin: 0;
            height: 100vh;
            overflow: auto;
            background: linear-gradient(to bottom, #005f9e, #001f3f);
            position: relative;
            font-family: 'Poppins', sans-serif;
            color: white;
        }

        .bubble {
            position: absolute;
            bottom: -100px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: rise 10s infinite ease-in;
            z-index: 1;
        }

        @keyframes rise {
            from {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            to {
                transform: translateY(-1200px) scale(1.5);
                opacity: 0;
            }
        }

        .fish {
            position: absolute;
            width: 100px;
            animation: swim 15s linear infinite;
            z-index: 1;
        }

        @keyframes swim {
            0% {
                transform: translateX(-150px) scaleX(1);
            }

            50% {
                transform: translateX(calc(100vw + 150px)) scaleX(1);
            }

            51% {
                transform: translateX(calc(100vw + 150px)) scaleX(-1);
            }

            100% {
                transform: translateX(-150px) scaleX(-1);
            }
        }

        .octopus {
            position: absolute;
            bottom: 50px;
            left: 20%;
            width: 150px;
            animation: floaty 8s ease-in-out infinite;
            z-index: 1;
        }

        @keyframes floaty {
            0%, 100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .container {
            position: relative;
            z-index: 10;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
            flex: 1;
        }

        .search-input {
            max-width: 300px;
        }

        table {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            border: none;
        }

        th {
            background-color: #00bfff;
            color: white;
            text-align: center;
            border: none;
            font-weight: 600;
        }

        td {
            vertical-align: middle !important;
            border-color: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .preview img, .preview video {
            max-width: 100px;
            border-radius: 5px;
            margin: 5px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .inventory-title {
            color: white;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(0, 191, 255, 0.7);
        }

        .action-btn {
            margin: 0 3px;
        }

        .btn-success {
            background-color: #00bfff;
            border-color: #0088cc;
            border-radius: 10px;
        }

            .btn-success:hover {
                background-color: #0088cc;
                border-color: #006699;
            }

        .btn-primary {
            background-color: #00bfff;
            border-color: #0088cc;
            border-radius: 10px;
        }

            .btn-primary:hover {
                background-color: #0088cc;
                border-color: #006699;
            }

        .btn-warning {
            background-color: #ffa500;
            border-color: #cc8400;
            border-radius: 10px;
        }

        .btn-danger {
            background-color: #ff6b6b;
            border-color: #ff5252;
            border-radius: 10px;
        }

        .modal-content {
            background: linear-gradient(to bottom, #005f9e, #001f3f);
            color: white;
            border-radius: 20px;
            border: none;
        }

        .modal-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .close {
            color: white;
            opacity: 0.8;
        }

        .form-control {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 10px;
        }

            .form-control:focus {
                background: rgba(255, 255, 255, 0.2);
                border-color: #00bfff;
                color: white;
                box-shadow: 0 0 10px rgba(0, 191, 255, 0.5);
            }

            .form-control::placeholder {
                color: rgba(255, 255, 255, 0.7);
            }

        .table-striped > tbody > tr:nth-of-type(odd) {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .table-striped > tbody > tr:nth-of-type(even) {
            background-color: rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>

    <!-- Animated Background Elements -->
    <script>
        for (let i = 0; i < 15; i++) {
            let bubble = document.createElement('div');
            bubble.classList.add('bubble');
            bubble.style.width = bubble.style.height = Math.random() * 30 + 10 + 'px';
            bubble.style.left = Math.random() * 100 + 'vw';
            bubble.style.animationDuration = Math.random() * 5 + 8 + 's';
            document.body.appendChild(bubble);
        }
    </script>

    <img src="https://pngimg.com/uploads/octopus/octopus_PNG37.png" class="octopus">

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h2 class="inventory-title">ðŸ“¦ Inventory Manager</h2>
                <input type="text" id="searchInput" class="form-control search-input" placeholder="Search by name or description...">
            </div>
            <button class="btn btn-success" data-toggle="modal" data-target="#uploadModal">+ Upload Item</button>
        </div>

        <!-- Inventory Table -->
        <div class="table-responsive">
            <table class="table table-bordered table-striped" id="inventoryTable">
                <thead>
                    <tr>
                        <th style="width:5%">Item ID</th>
                        <th style="width:15%">Item Name</th>
                        <th style="width:10%">Quantity</th>
                        <th style="width:15%">Date Created</th>
                        <th style="width:20%">Description</th>
                        <th style="width:20%">Preview</th>
                        <th style="width:15%">Action</th>
                    </tr>
                </thead>
                <tbody id="inventoryBody">
                    <!-- Items will appear here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Upload Item</h4>
                </div>
                <div class="modal-body">
                    <form id="inventoryForm">
                        <div class="form-group">
                            <label for="itemName">Item Name:</label>
                            <input type="text" class="form-control" id="itemName" required>
                        </div>
                        <div class="form-group">
                            <label for="itemQuantity">Quantity:</label>
                            <input type="number" class="form-control" id="itemQuantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="itemDescription">Description:</label>
                            <textarea class="form-control" id="itemDescription" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="itemFiles">Upload Files:</label>
                            <input type="file" class="form-control" id="itemFiles" multiple accept="image/*,video/*,.pdf,.doc,.docx">
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Upload</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="editModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Edit Item</h4>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <input type="hidden" id="editIndex">
                        <div class="form-group">
                            <label for="editName">Item Name:</label>
                            <input type="text" class="form-control" id="editName" required>
                        </div>
                        <div class="form-group">
                            <label for="editQuantity">Quantity:</label>
                            <input type="number" class="form-control" id="editQuantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="editDescription">Description:</label>
                            <textarea class="form-control" id="editDescription" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script>
        const inventoryForm = document.getElementById('inventoryForm');
        const inventoryBody = document.getElementById('inventoryBody');
        const searchInput = document.getElementById('searchInput');
        const editForm = document.getElementById('editForm');

        let inventoryData = []; // store all items

        // Upload new item
        inventoryForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const itemName = document.getElementById('itemName').value.trim();
            const itemQuantity = document.getElementById('itemQuantity').value.trim();
            const itemDescription = document.getElementById('itemDescription').value.trim();
            const itemFiles = document.getElementById('itemFiles').files;

            if (!itemName || itemFiles.length === 0) {
                alert("Please provide an item name and at least one file.");
                return;
            }

            const previews = [];
            for (let file of itemFiles) {
                const fileType = file.type;
                let previewHTML = "";
                if (fileType.startsWith('image/')) {
                    previewHTML = `<img src="${URL.createObjectURL(file)}">`;
                } else if (fileType.startsWith('video/')) {
                    previewHTML = `<video src="${URL.createObjectURL(file)}" controls></video>`;
                } else {
                    previewHTML = `<a href="${URL.createObjectURL(file)}" target="_blank">${file.name}</a>`;
                }
                previews.push(previewHTML);
            }

            const dateCreated = new Date().toLocaleDateString();

            const item = {
                name: itemName,
                quantity: itemQuantity,
                description: itemDescription,
                previews: previews.join(" "),
                dateCreated: dateCreated
            };

            inventoryData.push(item);
            renderTable();

            inventoryForm.reset();
            $('#uploadModal').modal('hide');
        });

        // Render the table
        function renderTable() {
            inventoryBody.innerHTML = '';
            inventoryData.forEach((item, index) => {
                const row = document.createElement('tr');
                row.setAttribute('data-name', item.name.toLowerCase());
                row.setAttribute('data-description', item.description.toLowerCase());

                row.innerHTML = `
                            <td class="text-center">${index + 1}</td> <!-- Item ID -->
                            <td>${item.name}</td>
                            <td class="text-center">${item.quantity}</td>
                            <td class="text-center">${item.dateCreated}</td>
                            <td>${item.description}</td>
                            <td><div class="preview">${item.previews}</div></td>
                            <td class="text-center">
                                <button class="btn btn-warning btn-xs action-btn editBtn" data-index="${index}">Edit</button>
                            </td>
                        `;
                inventoryBody.appendChild(row);
            });
        }

        // Search function
        searchInput.addEventListener('input', function () {
            const searchValue = searchInput.value.toLowerCase();
            const rows = inventoryBody.querySelectorAll('tr');

            rows.forEach(row => {
                const name = row.getAttribute('data-name');
                const description = row.getAttribute('data-description');
                row.style.display = name.includes(searchValue) || description.includes(searchValue) ? '' : 'none';
            });
        });

        // Handle Edit button click
        $(document).on('click', '.editBtn', function () {
            const index = $(this).data('index');
            const item = inventoryData[index];

            $('#editIndex').val(index);
            $('#editName').val(item.name);
            $('#editQuantity').val(item.quantity);
            $('#editDescription').val(item.description);

            $('#editModal').modal('show');
        });

        // Handle Edit Form submission
        editForm.addEventListener('submit', function (e) {
            e.preventDefault();

            const index = parseInt(document.getElementById('editIndex').value);
            const newName = document.getElementById('editName').value.trim();
            const newQuantity = document.getElementById('editQuantity').value.trim();
            const newDescription = document.getElementById('editDescription').value.trim();

            if (!newName) {
                alert("Item name cannot be empty.");
                return;
            }

            inventoryData[index].name = newName;
            inventoryData[index].quantity = newQuantity;
            inventoryData[index].description = newDescription;

            renderTable();
            $('#editModal').modal('hide');
        });
    </script>

</body>
</html>